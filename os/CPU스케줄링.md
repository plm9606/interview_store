# CPU 스케줄링

**Contents**

- [스케줄링](#스케줄링)
- [스케줄링 큐](#스케줄링-큐)
- [스케줄러](#스케줄러)
- [CPU Schduler 스케줄링 기법](#CPU-Schduler-스케줄링-기법)

## 스케줄링

프로세스가 실행 될 때 필요한 시스템 자원을 할당해주는 작업이다.

## 스케줄링 큐

프로세스를 스케줄링하기 위한 `큐`는 3가지가 있다.

- `Job Queue`: 프로세스 상태와 무관하게 현재 시스템에 있는 `모든 process`들이 있다.
- `Ready Queue`: CPU를 할당받기 위해 대기중인 process들이 있다. (`ready` 상태)
- `Divice Queue`: Device I/O작업을 대기중인 process들이 있다. 각 자원마다 큐가 하나씩 존재한다. (`waiting` 상태)

큐는 각 프로세스의 PCB를 연결리스트 형태로 줄세우고 포인터를 활용해 순서를 정한다.

## 스케줄러

이 큐들에 process를 넣고 빼는 `스케줄러`도 3가지가 있다.

- **장기 스케줄러(Job Schduler)**

  어떤 프로세스를 Ready Queue에 삽입할지를 결정한다.

  `new` -> `ready`

- **중기 스케줄러 (Swapper)**

  메모리에 너무 많은 프로세스가 올라가지 않게 조절해주는 역할을 한다. 프로세스를 메모리에서 swap한다.
  메모리에 적재된 프로세스의 수를 동적으로 조절한다.

  메모리에 올라와 있는 프로세스 중 일부에게서 메모리를 통째로 빼앗고 그 내용을 디스크의 `swap 영역`에 저장해둔다. 이 행위를 `swap out`이라고 한다.

  중기 스케줄러의 등장으로 인해 외부적인 이유로 프로세스 수행이 정지된 상태를 나타내는 `suspend`(중지)상태가 새롭게 추가되었다.(terminated와 다름)

  `ready` -> `suspend`

- 후기 스케줄러 (CPU Schduler)

  Ready Queue에 있는 프로세스 중 어떤걸 running시킬지 결정한다.

  `ready` -> `running`

> 현대의 시분할 시스템용 운영체제에서는 장기 스케줄러 대신 중기 스케줄러를 두는 경우가 많다. 요즘 컴퓨터는 메모리가 커서 장기 스케줄러의 필요성이 적어졌다고 한다.

### CPU Schduler 스케줄링 기법

**비선점 스케줄링**

프로세스가 CPU를 할당받으면 다른 프로세스가 강제로 뺏어서 사용할 수 없는(비선점) 방법이다.
그 말은 프로세스 작업이 끝날 때 까지 해당 자원을 사용한다는 것이다.

종류: `FCFS`, `SJF`, `HRN`(Highest Response Ratio Next)

**선점 스케줄링**

우선순위가 더 높은 프로세스가 강제로 CPU를 뺏어서(선점) 사용할 수 있다. 많은 오버헤드가 생길 수 있다.

종류: `Round Robin`, `SRT`(Shortest Remaining Time), `다단계 큐 스케줄링`

**둘다 가능**

'우선순위 스케줄링'
